{"map":{"version":3,"sources":["static/js/main.2301502e.chunk.js"],"names":["this","push","119","module","exports","134","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","simple_peer","simple_peer_default","lib","lib_default","query_string","query_string_default","socket","src_Homepage","_ref","location","videoRef","Object","peerVideoRef","_useState","_useState2","sessionActive","setSessionActive","_useState3","_useState4","name","setName","_useState5","_useState6","totalNames","setTotalNames","_useState7","_useState8","adminName","setAdminName","_useState9","_useState10","peerName","setPeerName","a","parse","search","console","log","navigator","mediaDevices","getUserMedia","video","audio","then","stream","emit","current","srcObject","play","client","InitPeer","type","peer","initiator","trickle","on","remove","destroy","gotAnswer","data","offer","signal","answer","catch","err","map","index","createElement","className","ref","muted","defineProperty","objectSpread2","react_router","src_InputComponent","history","formData","setFormData","setErr","ListOfErrors","length","key","onSubmit","event","preventDefault","error","setTimeout","concat","submitHandler","value","onChange","target","changeHandler","react_router_dom","src_App","exact","path","component","render","StrictMode","document","getElementById","33","64","90","92"],"mappings":"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"},"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{119:function(e,t){},134:function(e,t,n){\"use strict\";n.r(t);var a=n(0),c=n.n(a),r=n(59),o=n.n(r),s=(n(33),n(8)),l=n(60),i=n.n(l),m=n(61),u=n.n(m),f=n(62),d=n.n(f),b=u()(\"localhost:4000\"),v=function(e){var t=e.location,n=Object(a.useRef)(null),r=Object(a.useRef)(null),o=Object(a.useState)(\"\"),l=Object(s.a)(o,2),m=l[0],u=l[1],f=Object(a.useState)(\"\"),v=Object(s.a)(f,2),p=v[0],E=v[1],g=Object(a.useState)([]),h=Object(s.a)(g,2),j=h[0],O=h[1],N=Object(a.useState)(\"\"),y=Object(s.a)(N,2),S=y[0],w=y[1],x=Object(a.useState)(\"\"),k=Object(s.a)(x,2),A=k[0],C=k[1];return Object(a.useEffect)((function(){var e=d.a.parse(t.search).name;E(e),console.log(e),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(t){console.log(e),b.emit(\"NewClient\",e),n.current.srcObject=t,n.current.play(),console.log(n.current);var a={};function c(e){console.log(\"peer received\");var n=new i.a({initiator:\"init\"===e,stream:t,trickle:!1});return console.log(\"peer\",n),n.on(\"stream\",(function(e){console.log(\"stream\",e),r.current&&(r.current.srcObject=e,r.current.play())})),n.on(\"close\",(function(){r.current.remove(),n.destroy(),console.log(\"peer destroyed\")})),n}b.on(\"CreatePeer\",(function(){a.gotAnswer=!1;var e=c(\"init\");e.on(\"signal\",(function(e){a.gotAnswer||b.emit(\"offer\",e)})),a.peer=e})),b.on(\"backOffer\",(function(e){var t=c(\"notInit\");t.on(\"signal\",(function(e){b.emit(\"Answer\",e)})),t.signal(e),a.peer=t})),b.on(\"backAnswer\",(function(e){a.gotAnswer=!0,a.peer.signal(e)})),b.on(\"SessionActive\",(function(){u(\"Session is active , Please comeback later\"),n.current.remove()}))})).catch((function(e){return console.log(e)}))}),[t.search]),b.on(\"sending names peer\",(function(e){O(e)})),Object(a.useEffect)((function(){j&&j.map((function(e,t){e===p?w(e):C(e)}))}),[j,p]),c.a.createElement(\"div\",null,c.a.createElement(\"h4\",{className:\"heading\"},\" Welcome to video chat\"),c.a.createElement(\"p\",{className:\"heading\"},m),c.a.createElement(\"div\",{className:\"col-12 col-sm-6 d-flex justify-content-center \"},c.a.createElement(\"h5\",{className:\"adminName\"},S),c.a.createElement(\"div\",{className:\"embed-responsive embed-responsive-16by9 videoAdmin\"},c.a.createElement(\"video\",{ref:n,className:\"embed-responsive-item\",muted:!0}))),c.a.createElement(\"div\",{className:\"col-12 col-sm-6 d-flex justify-content-center \"},c.a.createElement(\"h5\",{className:\"peerName\"},A),c.a.createElement(\"div\",{className:\"embed-responsive embed-responsive-16by9 videoPeer\"},c.a.createElement(\"video\",{ref:r,className:'\"embed-responsive-item\"'}))))},p=n(19),E=n(29),g=n(1),h=Object(g.f)((function(e){var t=e.history,n=Object(a.useState)({name:\"\"}),r=Object(s.a)(n,2),o=r[0],l=r[1],i=Object(a.useState)([]),m=Object(s.a)(i,2),u=m[0],f=m[1],d=o.name,b=u.length>0?u.map((function(e,t){return c.a.createElement(\"div\",{key:t},e)})):\"\";return c.a.createElement(\"div\",{className:\"container mt-4\"},c.a.createElement(\"div\",{className:\"col-md-6 m-auto\"},c.a.createElement(\"div\",{className:\"card  card-body card-color\"},c.a.createElement(\"h4\",{className:\" text-center  mt-2\"},\" Video Chat \"),c.a.createElement(\"h6\",{className:\"text-center mt-2 text-danger\"},\" \",b),c.a.createElement(\"form\",{onSubmit:function(e){return function(e){e.preventDefault();var n=[];d||n.push(\"Name cannot be empty\"),n.length>0?(f(n),setTimeout((function(){f([])}),3e3)):t.push(\"/videochat?name=\".concat(d))}(e)}},c.a.createElement(\"div\",{className:\"form-group\"},c.a.createElement(\"label\",{className:\"text-dark\"},\"Enter your Name: \"),c.a.createElement(\"input\",{className:\"form-control\",type:\"text\",name:\"name\",value:d,onChange:function(e){return function(e){e.preventDefault(),l(Object(E.a)(Object(E.a)({},o),{},Object(p.a)({},e.target.name,e.target.value)))}(e)}})),c.a.createElement(\"button\",{className:\"btn btn-secondary form-control\",type:\"submit\"},\"submit\")))))})),j=n(28);var O=function(){return c.a.createElement(j.a,null,c.a.createElement(g.c,null,c.a.createElement(g.a,{exact:!0,path:\"/\",component:h})),c.a.createElement(g.c,null,c.a.createElement(g.a,{path:\"/videochat\",component:v})))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(O,null)),document.getElementById(\"root\"))},33:function(e,t,n){},64:function(e,t,n){e.exports=n(134)},90:function(e,t){},92:function(e,t){}},[[64,1,2]]]);","extractedComments":[]}